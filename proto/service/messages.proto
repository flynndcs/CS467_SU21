syntax = "proto3";
package service;
option go_package = "CS467_SU21/proto/service";

/* gRPC MESSAGE DEFINITIONS */

/* GATEWAY SERVICE */

message StatusRequest{
}

message StatusReply {
  string status = 1;
}

/* PRODUCT SERVICE */

message ProductStatusRequest{}

message ProductStatusReply{
  string status = 1;
}

message GetSingleProductRequest{
  string name = 1;
  repeated string categorySequence = 2;
}

message GetProductsInCategorySequenceRequest{
  repeated string categorySequence = 1;
}

message StoredProducts{
  repeated StoredProduct products = 1;
}

message PutSingleProductRequest{
  string name = 1;
  repeated string categorySequence = 2;
  optional int64 expires = 3;
  repeated string tags = 4;
  string origin = 5;
  repeated string intermediateDestinations = 6;
  repeated string endDestinations= 7;
  int64 totalQuantity = 8;
  repeated string parentProducts = 9;
  repeated string childProducts = 10;
}

message StoredProduct{
  string name = 1;
  repeated string categorySequence = 2;
  int64 expires = 3;
  repeated string tags = 4;
  string origin = 5;
  repeated string intermediateDestinations = 6;
  repeated string endDestinations= 7;
  map<string, int64> quantityByLocation = 8;
  int64 totalQuantity = 9;
  int64 quantityInTransit = 10;
  repeated string parentProducts = 11;
  repeated string childProducts = 12;
}

message ClearSingleProductRequest{
  string name = 1;
  repeated string categorySequence = 2;
}

message ClearSingleProductResponse{
  string deletedName = 1;
  repeated string categorySequence = 2;
}
